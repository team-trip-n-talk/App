<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: app.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: app.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
'use strict';

/**
* App Module
* @module app
*/

//Dependencies
require('dotenv').config();
const express = require('express');
const utils = require('./utils/messageHandler');
const readline = require('readline');

//Readline variable creation
const rl = readline.createInterface(process.stdin, process.stdout);

// Prepare the express app
const app = express();

//Jsdocs
app.use(express.static('docs'));
app.use('/docs', express.static('docs'));

const io = require('socket.io-client');

/**
* @method io.connect
* @param {string} SERVER - server environment variable
* @returns {object} sends out query object containing environment token variable
* @desc establishes server connection and sends up the users token for authentication on the server
*/

const socket = io.connect(process.env.SERVER, {
  query: {token: process.env.TOKEN},
});

/**
* @method socket.on
* @param {string} message - channel / chatroom name
* @param {function} utils.displayIncomingMessage - function to capture and display incoming messages
* @returns {object} message
* @desc recieves messages from server and displays them
*/

socket.on('message', utils.displayIncomingMessage);

/**
* @method rl.on
* @param {string} line - reads lines from the command line
* @returns {object} emits recieved input from command line wrapped in an object with username attached
* @desc reads what is typed on the command line combines it with the users name and emmits it
*/

rl.on('line', (line) => {
  socket.emit('message', utils.prepMessage(line));
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-app.html">app</a></li><li><a href="module-messageHandler.html">messageHandler</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.2</a> on Thu Jun 27 2019 10:15:39 GMT-0800 (GMT-08:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
